(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{20:function(e,t,n){e.exports=n(34)},21:function(e,t,n){},26:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);n(21);var a=n(0),r=n.n(a),o=n(18),c=n.n(o),l=n(5),u=n(6),s=n(8),i=n(7),p=n(11),m=n(1),f=(n(26),function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"LandingPage"},r.a.createElement("h3",null,"Welcome to the Petful Adoption Center"),r.a.createElement("p",null,"Our mission is to find a loving home for our cats and dogs. We operate on a first-come, first-served basis. Please press the button below to take a number and get in line."),r.a.createElement("h3",null,r.a.createElement(p.b,{to:"/adoption"},"Adopt a Pet")))}}]),n}(a.Component)),d="http://localhost:8000/api",h={getCats:function(){return fetch("".concat(d,"/cats")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getDogs:function(){return fetch("".concat(d,"/dogs")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getPeople:function(){return fetch("".concat(d,"/people")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},addPeople:function(e){return fetch("".concat(d,"/people"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})})},deletePeople:function(){return fetch("".concat(d,"/people"),{method:"DELETE"})},userAdoptDog:function(){return fetch("".concat(d,"/people/dog"),{method:"DELETE"})},userAdoptCat:function(){return fetch("".concat(d,"/people/cat"),{method:"DELETE"})},adoptCat:function(){return fetch("".concat(d,"/cats"),{method:"DELETE"})},adoptDog:function(){return fetch("".concat(d,"/dogs"),{method:"DELETE"})}},E=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.cats,n=e.adopt,a=e.user,o=e.front,c=e.reset;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Cat"),r.a.createElement("img",{className:"picture",src:t.value.imageURL,alt:t.value.name}),r.a.createElement("p",null,"Name: ",t.value.name),r.a.createElement("p",null,"Age: ",t.value.age),r.a.createElement("p",null,"Breed: ",t.value.breed),r.a.createElement("p",null,"Gender: ",t.value.gender),r.a.createElement("p",null,"Story: ",t.value.story),r.a.createElement("button",{disabled:a!==o,onClick:function(){n(),c()}},"ADOPT"))}}]),n}(a.Component),g=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.dogs,n=e.adopt,a=e.user,o=e.front,c=e.reset;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Dog"),r.a.createElement("img",{className:"picture",src:t.value.imageURL,alt:t.value.name}),r.a.createElement("p",null,"Name: ",t.value.name),r.a.createElement("p",null,"Age: ",t.value.age),r.a.createElement("p",null,"Breed: ",t.value.breed),r.a.createElement("p",null,"Gender: ",t.value.gender),r.a.createElement("p",null,"Story: ",t.value.story),r.a.createElement("button",{disabled:a!==o,onClick:function(){n(),c()}},"ADOPT"))}}]),n}(a.Component),v=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.person,n=e.number;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Next ",n+1,": ",t))}}]),n}(a.Component),b=(n(32),function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={cats:{value:{},next:{}},dogs:{value:{},next:{}},people:[],user:"",front:"",submitted:!1},e.adoptCat=function(){h.adoptCat().then((function(){h.getPeople().then((function(t){return e.setState({people:t,front:t[0]}),h.getCats()})).then((function(t){e.setState({cats:t})}))}))},e.adoptDog=function(){h.adoptDog().then((function(){h.getPeople().then((function(t){return e.setState({people:t,front:t[0]}),h.getDogs()})).then((function(t){e.setState({dogs:t})}))}))},e.userAdoptDog=function(){h.userAdoptDog().then((function(){h.getPeople().then((function(t){return e.setState({people:t,front:t[0]}),h.getDogs()})).then((function(t){e.setState({dogs:t})}))}))},e.userAdoptCat=function(){h.userAdoptCat().then((function(){h.getPeople().then((function(t){return e.setState({people:t,front:t[0]}),h.getCats()})).then((function(t){e.setState({cats:t})}))}))},e.getInLine=function(t){t.preventDefault(),e.setState({user:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),h.addPeople(e.state.user),h.getPeople(),e.setState({submitted:!0}),alert("".concat(e.state.user," was added to the back of the line!"))},e.resetUser=function(){alert("You have adopted a new pet! Thank you!");e.setState({user:"",submitted:!1})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;h.getCats().then((function(t){return e.setState({cats:t}),h.getDogs()})).then((function(t){return e.setState({dogs:t}),h.getPeople()})).then((function(t){e.setState({people:t,front:t[0]})})),this.interval=setInterval((function(){e.state.front!==e.state.user?e.next():(clearInterval(e.interval),e.interval=null)}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"next",value:function(){var e,t=[this.adoptCat,this.adoptDog];t[(e=t.length,Math.floor(Math.random()*e))]()}},{key:"render",value:function(){var e=this.state,t=e.cats,n=e.dogs,a=e.people,o=e.user,c=e.front;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"AdoptionPage"},r.a.createElement("div",{className:"pets"},t.next?r.a.createElement("div",{className:"cat"},r.a.createElement(E,{cats:t,adopt:this.userAdoptCat,reset:this.resetUser,user:o,front:c})):r.a.createElement("p",null,"Rescuing Cats..."),n.next?r.a.createElement("div",{className:"dog"},r.a.createElement(g,{dogs:n,adopt:this.userAdoptDog,reset:this.resetUser,user:o,front:c})):r.a.createElement("p",null,"Rescuing Dogs...")),r.a.createElement("div",{className:"front"},r.a.createElement("h3",null,"First in line: ",c)),r.a.createElement("div",{className:"People"},a.slice(1,6).map((function(e,t){return r.a.createElement(v,{key:t,number:t,person:e})})),this.state.submitted?r.a.createElement("p",null):r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"name"},"Enter Name:"),r.a.createElement("br",null),r.a.createElement("input",{onChange:this.getInLine,type:"text",placeholder:"Your name",name:"name",id:"name"}),r.a.createElement("input",{type:"submit",value:"Submit"})))))}}]),n}(a.Component)),j=(n(33),function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"Root"},r.a.createElement("div",{className:"header"},r.a.createElement("header",null,r.a.createElement(p.b,{to:"/"},r.a.createElement("h1",null,"Petful")))),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:f}),r.a.createElement(m.a,{exact:!0,path:"/adoption",component:b})))}}]),n}(a.Component));c.a.render(r.a.createElement(p.a,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.ec3272ee.chunk.js.map